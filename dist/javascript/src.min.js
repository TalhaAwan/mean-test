!function(){angular.module("boilerplate",["ngRoute","appRoutes","mainCtrl","smart-table"])}(),function(){angular.module("appRoutes",[]).config(["$routeProvider","$locationProvider","$httpProvider",function(n,e,t){n.when("/",{templateUrl:"app/main/main.html",controller:"mainController"}).when("/sign-in",{templateUrl:"app/auth/signin.html",controller:"signInController"}).when("/sign-up",{templateUrl:"app/auth/signup.html",controller:"signUpController"}).otherwise({redirectTo:"/"}),e.html5Mode(!0),t.interceptors.push("authHttpResponseInterceptor")}]).factory("authHttpResponseInterceptor",["$q","$location",function(n,e){return{request:function(n){var e=localStorage.userToken;return n.headers.token=e,n},response:function(e){return e.status,e||n.when(e)},responseError:function(t){return 401===t.status&&(localStorage.removeItem("userToken"),e.path("/")),n.reject(t)}}}])}(),function(){angular.module("boilerplate").factory("authService",["$http",function(n){return{create:function(e,t,o){n.post("/api/users/",e).success(function(n){t(n)}).error(function(n){o(n)})},localAuth:function(e,t,o){n.post("/api/auth/local",e).success(function(n){t(n)}).error(function(n){o(n)})}}}])}(),function(){angular.module("boilerplate").controller("signInController",["$scope","authService",function(n,e){}])}(),function(){angular.module("boilerplate").controller("signUpController",["$scope","authService",function(n,e){}])}(),function(){angular.module("mainCtrl",[]).controller("mainController",["$scope","userService","$timeout",function(n,e,t){n.user={},e.getAll(function(e){n.users=e},function(n){console.log(n)}),n.ping=function(){n.user.disableBtn=!0,e.create(n.user,function(e){n.users.push(e),n.user={}},function(e){console.log(e),n.pingErrorMsg=e.message||"something went wrong",n.user.disableBtn=!1,t(function(){n.pingErrorMsg=""},3e3)})},n.update=function(o,r){o.disableBtn=!0,e.update(o,function(e){n.users[r]=e},function(e){console.log(e),o.disableBtn=!1,n.pingErrorMsg=e.message||"something went wrong",t(function(){n.pingErrorMsg=""},3e3)})},n.delete=function(o,r){o.disableBtn=!0,e.delete({id:o.id},function(){n.users.splice(r,1)},function(e){console.log(e),o.disableBtn=!1,n.pingErrorMsg=e.message||"something went wrong",t(function(){n.pingErrorMsg=""},3e3)})}}])}(),function(){angular.module("boilerplate").factory("userService",["$http",function(n){return{create:function(e,t,o){n.post("/api/ping/",e,{}).success(function(n){t(n)}).error(function(n){o(n)})},update:function(e,t,o){n.put("/api/update/",e,{}).success(function(n){t(n)}).error(function(n){o(n)})},get:function(e,t,o){n.get("/api/user/"+e).success(function(n){t(n)}).error(function(n){o(n)})},getAll:function(e,t){n.get("/api/users").success(function(n){e(n)}).error(function(n){t(n)})},delete:function(e,t,o){console.log(e),n({url:"/api/delete",method:"DELETE",data:e,headers:{"Content-Type":"application/json;charset=utf-8"}}).then(function(n){t(n)},function(n){o(n)})}}}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFwcC5yb3V0ZXMuanMiLCJhdXRoL2F1dGguc2VydmljZS5qcyIsImF1dGgvc2lnbmluLmN0cmwuanMiLCJhdXRoL3NpZ251cC5jdHJsLmpzIiwibWFpbi9tYWluLmN0cmwuanMiLCJtYWluL3VzZXIuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIiRodHRwUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImh0bWw1TW9kZSIsImludGVyY2VwdG9ycyIsInB1c2giLCJmYWN0b3J5IiwiJHEiLCIkbG9jYXRpb24iLCJyZXF1ZXN0IiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJ1c2VyVG9rZW4iLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJyZXNwb25zZUVycm9yIiwicmVqZWN0aW9uIiwicmVtb3ZlSXRlbSIsInBhdGgiLCJyZWplY3QiLCIkaHR0cCIsImNyZWF0ZSIsIm9iaiIsInN1Y2Nlc3MiLCJlcnJvciIsInBvc3QiLCJkYXRhIiwibG9jYWxBdXRoIiwiJHNjb3BlIiwiYXV0aFNlcnZpY2UiLCJ1c2VyU2VydmljZSIsIiR0aW1lb3V0IiwidXNlciIsImdldEFsbCIsInVzZXJzIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInBpbmciLCJkaXNhYmxlQnRuIiwicGluZ0Vycm9yTXNnIiwibWVzc2FnZSIsInVwZGF0ZSIsImluZGV4IiwiZGVsZXRlIiwiaWQiLCJzcGxpY2UiLCJwdXQiLCJnZXQiLCJ1cmwiLCJtZXRob2QiLCJDb250ZW50LVR5cGUiLCJ0aGVuIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBQSxRQUFBQyxPQUFBLGVBQUEsVUFBQSxZQUFBLFdBQUEsbUJDREEsV0FDQUQsUUFBQUMsT0FBQSxnQkFBQUMsUUFBQSxpQkFBQSxvQkFBQSxn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QUFHLEdBQ0FILEVBQUFHLEtBRUFGLE1BQUEsU0FBQVcsR0FDQVgsRUFBQVcsTUFHQU8sT0FBQSxTQUFBcEIsRUFBQUMsRUFBQUMsR0FDQUosRUFBQTJCLElBQUEsZUFBQXpCLE1BQ0FDLFFBQUEsU0FBQUcsR0FDQUgsRUFBQUcsS0FFQUYsTUFBQSxTQUFBVyxHQUNBWCxFQUFBVyxNQUdBYSxJQUFBLFNBQUFILEVBQUF0QixFQUFBQyxHQUNBSixFQUFBNEIsSUFBQSxhQUFBSCxHQUNBdEIsUUFBQSxTQUFBRyxHQUNBSCxFQUFBRyxLQUVBRixNQUFBLFNBQUFXLEdBQ0FYLEVBQUFXLE1BR0FGLE9BQUEsU0FBQVYsRUFBQUMsR0FDQUosRUFBQTRCLElBQUEsY0FDQXpCLFFBQUEsU0FBQUcsR0FDQUgsRUFBQUcsS0FFQUYsTUFBQSxTQUFBVyxHQUNBWCxFQUFBVyxNQUdBUyxPQUFBLFNBQUFaLEVBQUFULEVBQUFDLEdBQ0FZLFFBQUFDLElBQUFMLEdBQ0FaLEdBQ0E2QixJQUFBLGNBQ0FDLE9BQUEsU0FDQXhCLEtBQUFNLEVBQ0FwQixTQUNBdUMsZUFBQSxvQ0FHQUMsS0FBQSxTQUFBMUIsR0FDQUgsRUFBQUcsSUFDQSxTQUFBUyxHQUNBWCxFQUFBVyIsImZpbGUiOiJzcmMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xuICAgIGFuZ3VsYXIubW9kdWxlKCdib2lsZXJwbGF0ZScsIFsnbmdSb3V0ZScsICdhcHBSb3V0ZXMnLCAnbWFpbkN0cmwnLCAnc21hcnQtdGFibGUnXSk7XG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwUm91dGVzJywgW10pLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgJyRodHRwUHJvdmlkZXInLCBmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyLCAkaHR0cFByb3ZpZGVyKSB7XG5cbiAgICAgICAgJHJvdXRlUHJvdmlkZXJcblxuICAgICAgICAvLyBob21lIHBhZ2VcbiAgICAgICAgICAgIC53aGVuKCcvJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL21haW4vbWFpbi5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9zaWduLWluJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL2F1dGgvc2lnbmluLmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaWduSW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvc2lnbi11cCcsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9hdXRoL3NpZ251cC5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2lnblVwQ29udHJvbGxlcidcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub3RoZXJ3aXNlKHtcbiAgICAgICAgICAgICAgICByZWRpcmVjdFRvOiAnLydcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcbiAgICAgICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnYXV0aEh0dHBSZXNwb25zZUludGVyY2VwdG9yJyk7XG5cbiAgICB9XSlcblxuICAgICAgICAuZmFjdG9yeSgnYXV0aEh0dHBSZXNwb25zZUludGVyY2VwdG9yJywgWyckcScsICckbG9jYXRpb24nLCBmdW5jdGlvbiAoJHEsICRsb2NhdGlvbikge1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlcXVlc3Q6IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS51c2VyVG9rZW47XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuaGVhZGVycy50b2tlbiA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlIHx8ICRxLndoZW4ocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VFcnJvcjogZnVuY3Rpb24gKHJlamVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInVzZXJUb2tlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG4gICAgYW5ndWxhci5tb2R1bGUoJ2JvaWxlcnBsYXRlJykuZmFjdG9yeSgnYXV0aFNlcnZpY2UnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKG9iaiwgc3VjY2VzcywgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzLycsIG9iaikuXG4gICAgICAgICAgICAgICAgc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgICAgIGVycm9yKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxvY2FsQXV0aCA6IGZ1bmN0aW9uIChvYmosIHN1Y2Nlc3MsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9hdXRoL2xvY2FsJywgb2JqKS5cbiAgICAgICAgICAgICAgICBzdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICAgICAgZXJyb3IoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICB9XSk7XG59XG4pKCk7XG4iLCIoZnVuY3Rpb24oKXtcbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2JvaWxlcnBsYXRlJykuY29udHJvbGxlcignc2lnbkluQ29udHJvbGxlcicsICBbJyRzY29wZScsICdhdXRoU2VydmljZScsIGZ1bmN0aW9uKCRzY29wZSwgYXV0aFNlcnZpY2UpIHtcblxuXG4gICAgICAgIH1dKTtcbiAgICB9XG4pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgIGFuZ3VsYXIubW9kdWxlKCdib2lsZXJwbGF0ZScpLmNvbnRyb2xsZXIoJ3NpZ25VcENvbnRyb2xsZXInLCBbJyRzY29wZScsICdhdXRoU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGF1dGhTZXJ2aWNlKSB7XG5cblxuICAgIH1dKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyLm1vZHVsZSgnbWFpbkN0cmwnLCBbXSkuY29udHJvbGxlcignbWFpbkNvbnRyb2xsZXInLCBbJyRzY29wZScsICd1c2VyU2VydmljZScsICckdGltZW91dCcsIGZ1bmN0aW9uICgkc2NvcGUsIHVzZXJTZXJ2aWNlLCAkdGltZW91dCkge1xuICAgICAgICAkc2NvcGUudXNlciA9IHt9O1xuICAgICAgICB1c2VyU2VydmljZS5nZXRBbGwoZnVuY3Rpb24gKGRhdGEpIHsgICAgICAgICAgICBcbiAgICAgICAgICAgICRzY29wZS51c2VycyA9IGRhdGE7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgfSlcbiAgICAgICAgJHNjb3BlLnBpbmcgPSBmdW5jdGlvbiAoKSB7ICAgXG4gICAgICAgICAgICAkc2NvcGUudXNlci5kaXNhYmxlQnRuID0gdHJ1ZTsgICAgICAgXG4gICAgICAgICAgICB1c2VyU2VydmljZS5jcmVhdGUoJHNjb3BlLnVzZXIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJzLnB1c2goZGF0YSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnVzZXIgPSB7fVxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgICAgICAkc2NvcGUucGluZ0Vycm9yTXNnID0gZXJyLm1lc3NhZ2UgfHwgXCJzb21ldGhpbmcgd2VudCB3cm9uZ1wiO1xuICAgICAgICAgICAgICAgICRzY29wZS51c2VyLmRpc2FibGVCdG4gPSBmYWxzZTsgXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGluZ0Vycm9yTXNnID0gXCJcIlxuICAgICAgICAgICAgICAgIH0sIDMwMDApXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uICh1c2VyLCBpbmRleCkgeyAgXG4gICAgICAgICAgICB1c2VyLmRpc2FibGVCdG4gPSB0cnVlOyAgICAgICAgXG4gICAgICAgICAgICB1c2VyU2VydmljZS51cGRhdGUodXNlciwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUudXNlcnNbaW5kZXhdID0gZGF0YVxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgdXNlci5kaXNhYmxlQnRuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBpbmdFcnJvck1zZyA9IGVyci5tZXNzYWdlIHx8IFwic29tZXRoaW5nIHdlbnQgd3JvbmdcIjtcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5waW5nRXJyb3JNc2cgPSBcIlwiXG4gICAgICAgICAgICAgICAgfSwgMzAwMClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24gKHVzZXIsIGluZGV4KSB7ICBcbiAgICAgICAgICAgIHVzZXIuZGlzYWJsZUJ0biA9IHRydWU7ICAgICAgIFxuICAgICAgICAgICAgdXNlclNlcnZpY2UuZGVsZXRlKHtpZDogdXNlci5pZH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUudXNlcnMuc3BsaWNlKGluZGV4LDEpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgICAgICB1c2VyLmRpc2FibGVCdG4gPSBmYWxzZTsgXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBpbmdFcnJvck1zZyA9IGVyci5tZXNzYWdlIHx8IFwic29tZXRoaW5nIHdlbnQgd3JvbmdcIjtcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5waW5nRXJyb3JNc2cgPSBcIlwiXG4gICAgICAgICAgICAgICAgfSwgMzAwMClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgYW5ndWxhci5tb2R1bGUoJ2JvaWxlcnBsYXRlJykuZmFjdG9yeSgndXNlclNlcnZpY2UnLCBbJyRodHRwJywgZnVuY3Rpb24gKCRodHRwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChvYmosIHN1Y2Nlc3MsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9waW5nLycsIG9iaiwge30pLlxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9KS5cbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiAob2JqLCBzdWNjZXNzLCBlcnJvcikge1xuICAgICAgICAgICAgICAgICRodHRwLnB1dCgnL2FwaS91cGRhdGUvJywgb2JqLCB7fSkuXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgICAgICAgICBlcnJvcihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChpZCwgc3VjY2VzcywgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvdXNlci8nICsgaWQpLlxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9KS5cbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0QWxsOiBmdW5jdGlvbiAoc3VjY2VzcywgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvdXNlcnMnKS5cbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICAgICAgICAgIGVycm9yKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlbGV0ZTogZnVuY3Rpb24gKHVzZXIsIHN1Y2Nlc3MsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codXNlcilcbiAgICAgICAgICAgICAgICAkaHR0cCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9hcGkvZGVsZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogdXNlcixcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLThcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICB9XSk7XG59XG4pKCk7XG4iXX0=
